<!doctype html><html lang=en><head><title>Optimizing Cache Management Strategy in Beeda</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.a61f89f5aafd375e5e4318cb002afca8ef69d181ab6ab3f96cd6fd80249e7544.css integrity="sha256-ph+J9ar9N15eQxjLACr8qO9p0YGrarP5bNb9gCSedUQ="><link rel=icon type=image/png href=/images/site/favicon_hu_b560f84bad524e89.png><meta property="og:url" content="https://chowdhurynawaf.github.io/en/posts/cache-management-strategy-in-beeda/"><meta property="og:site_name" content="Nawaf's Portfolio"><meta property="og:title" content="Optimizing Cache Management Strategy in Beeda"><meta property="og:description" content="Optimizing Cache Management Strategy in Beeda focuses on enhancing performance and user experience by implementing efficient caching mechanisms for media assets like images, Lottie animations, and videos. By leveraging a multi-layered caching approach—including disk caching, LRU caching, and custom solutions—we ensure faster load times, reduced latency, and scalable resource management."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-01-20T08:01:10+06:00"><meta property="article:modified_time" content="2024-01-20T08:01:10+06:00"><meta property="article:tag" content="Beeda"><meta property="article:tag" content="Cache"><meta name=twitter:card content="summary"><meta name=twitter:title content="Optimizing Cache Management Strategy in Beeda"><meta name=twitter:description content="Optimizing Cache Management Strategy in Beeda focuses on enhancing performance and user experience by implementing efficient caching mechanisms for media assets like images, Lottie animations, and videos. By leveraging a multi-layered caching approach—including disk caching, LRU caching, and custom solutions—we ensure faster load times, reduced latency, and scalable resource management."><meta name=description content="Optimizing Cache Management Strategy in Beeda focuses on enhancing performance and user experience by implementing efficient caching mechanisms for media assets like images, Lottie animations, and videos. By leveraging a multi-layered caching approach—including disk caching, LRU caching, and custom solutions—we ensure faster load times, reduced latency, and scalable resource management."><script async src="https://www.googletagmanager.com/gtag/js?id=G-EGJD9MG8HB"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-EGJD9MG8HB")}</script><script src=https://cdn.counter.dev/script.js data-id=3e099f47-9c07-404d-8db7-ae3b3e8e0794 data-utcoffset=1></script><script>theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light",theme=="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/en><img src=/images/site/main-logo_hu_5506a834ef7fd174.png id=logo alt=Logo>
Nawaf's Portfolio</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/en#home>Home</a></li><li class=nav-item><a class=nav-link href=/en#about>About</a></li><li class=nav-item><a class=nav-link href=/en#experiences>Experiences</a></li><li class=nav-item><a class=nav-link href=/en#projects>Projects</a></li><li class=nav-item><a class=nav-link href=/en#skills>Skills</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>More</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/en#recent-posts>Recent Posts</a>
<a class=dropdown-item href=/en#education>Education</a>
<a class=dropdown-item href=/en#accomplishments>Accomplishments</a></div></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/en/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-gb"></span>
English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/en/posts/cache-management-strategy-in-beeda><span class="fi fi-gb"></span>
English
</a><a class="dropdown-item nav-link languages-item" href=/posts/cache-management-strategy-in-beeda><span class="fi fi-jp"></span>
日本語</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hu_5506a834ef7fd174.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo_hu_b560f84bad524e89.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/en/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/en/posts/ data-filter=all>Posts</a></li><div class=subtree><li><a class="active list-link" href=/en/posts/cache-management-strategy-in-beeda/ title="Cache Management Strategy in Beeda">Cache Management Strategy in Beeda</a></li><li><a class=list-link href=/en/posts/how-eylog-manages-mobile-releases/ title="How eyLog Manages Mobile Releases">How eyLog Manages Mobile Releases</a></li><li><a class=list-link href=/en/posts/improving-beedas-swift-compilation-time/ title="Improving Beeda's Swift Compilation times by 83%">Improving Beeda's Swift Compilation times by 83%</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/site/b1.jpg)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author/nawaf_hu_7df0bdbc0f34036d.png alt="Author Image"><h5 class=author-name>Mahmuduzzaman Chowdhury</h5><p class=text-muted>Saturday, January 20, 2024 | 4 minutes</p></div><div class=title><h1>Optimizing Cache Management Strategy in Beeda</h1></div><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/beeda/ class="btn btn-sm btn-info">Beeda</a></li><li class=rounded><a href=/en/tags/cache/ class="btn btn-sm btn-info">cache</a></li></ul></div><div class=post-content id=post-content><p>To deliver a fast and seamless user experience, every application requires an effective caching system. Without caching, repeatedly downloading assets can consume significant resources and cause delays in loading times. To overcome this, developers use a variety of caching strategies, including <strong>disk caching</strong>, <strong>LRU (Least Recently Used) caching</strong>, <strong>database caching</strong>, and others, to enhance performance and minimize latency.</p><hr><h3 id=problem>Problem:</h3><p>In the <strong>Beeda User</strong> app, effectively handling media assets like images, Lottie animations, and videos was essential for ensuring a fast and seamless user experience. Each type of media asset comes with its own specific needs and challenges when it comes to caching and optimization:</p><ul><li><strong>Images</strong>: High-resolution images can consume significant memory and storage, making <strong>disk caching</strong> (e.g., using <code>URLCache</code> or third-party libraries like SDWebImage) essential.</li><li><strong>Lottie Animations</strong>: Lottie files (JSON-based animations) are lightweight but require efficient parsing and rendering. <strong>In-memory caching</strong> (e.g., using <code>NSCache</code>) can help reduce repeated parsing overhead.</li><li><strong>Videos</strong>: Videos are large in size and require <strong>streaming</strong> or <strong>partial caching</strong> to avoid excessive memory and storage usage.</li></ul><p>While each caching mechanism is effective for specific media types, a critical question arises: <strong>How can we effectively manage and integrate multiple caching strategies for images, Lottie animations, and videos within an iOS app?</strong></p><hr><h3 id=implementation>Implementation:</h3><p><img src=/images/site/dg.jpg alt="image info"></p><p>To address the challenges of managing media assets in the <strong>Beeda User</strong> app, we’ve designed different Utils for differnt type accordingly. This structured approach ensures efficient handling of assets like images, Lottie animations, and videos.</p><h3 id=1-utils-layer>1. <strong>Utils Layer</strong></h3><p>Each type of media asset will have its own <strong>utility class</strong> responsible for handling specific tasks such as downloading, parsing, and processing. These utilities act as intermediaries, fetching assets from the <strong>Assets Manager</strong> without the app directly interacting with it.</p><p>For example, consider the <strong>Image Utility</strong>. If an image is not already cached, this utility will download it by calling the <code>getData</code> method of the Assets Manager. Once the image is downloaded, the utility will pass the raw data back to the Assets Manager for storage.</p><blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>protocol</span> <span style=color:#a6e22e>ImageUtilProtocol</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>downloadImage</span>(url: String, imageCompletionHandler: ((UIImage) -&gt; Void)?, storageType: StorageType)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></blockquote><h3 id=2-assets-manager>2. <strong>Assets Manager</strong></h3><p>The <strong>Assets Manager</strong> serves as the <strong>middle layer</strong> in the system, acting as a bridge between the <strong>Utils</strong> and the various <strong>caching mechanisms</strong>. Its primary role is to determine which type of caching should be used based on the specified <strong>storage type</strong>.</p><p>The <code>StorageType</code> parameter will define the available caching mechanisms (e.g., in-memory, disk, or hybrid).</p><blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>StorageType</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>case</span> lru(LRUCacheType)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>case</span> disk
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></blockquote><blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>LRUCacheType</span>: String {
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>case</span> lottie
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>case</span> image
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>case</span> video
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></blockquote><p>The assets manager will have common methods to store and retrieve data.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>protocol</span> <span style=color:#a6e22e>AssetsManagerProtocol</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>writeData</span>(data: Data, forKey key: String, storageType: StorageType)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>readData</span>(forKey key: String, storageType: StorageType) -&gt; Data?
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>removeData</span>(forKey key: String, storageType: StorageType)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Assets Manager plays a crucial role in managing caching operations. When the utility classes call its methods, the Assets Manager determines the appropriate caching layer to use based on the storageType. It then delegates the task—whether writing, reading, or removing data—to the corresponding caching mechanism, ensuring efficient and accurate handling of assets.</p><h3 id=3-caching-layer>3. <strong>Caching Layer</strong></h3><p>This layer contains all the caching methods we use, which includes disk, LRU, database caching. It stores data in its raw form and remains independent of specific data types.</p><p>We employ various caching mechanisms depending on the use case. For assets that need to be stored permanently, we rely on disk caching. On the other hand, for temporary data, we utilize the LRU caching method. Additionally, within the LRU caching system, we have separate caches for different types of assets, such as images, Lottie animations, and others.</p><ul><li><h5 id=disk-caching><strong>Disk Caching</strong></h5></li></ul><p>Disk caching involves storing data directly on the disk, enabling efficient read and write operations as required.</p><ul><li><h5 id=lru-caching><strong>LRU Caching</strong></h5></li></ul><p>Least Recently Used (LRU) caching stores data in memory with a fixed size limit. When the memory reaches its capacity, the least recently accessed item is evicted to accommodate new data.</p><ul><li><h5 id=in-our-case><strong>In Our Case:</strong></h5><ul><li><strong>For Images</strong>: We utilize both <strong>disk caching</strong> and <strong>LRU caching</strong> to balance performance and storage.</li><li><strong>For Rendering Animations</strong>: We rely exclusively on <strong>LRU caching</strong> for faster access and efficient memory usage.</li><li><strong>For Rendering Videos</strong>: We employ a <strong>custom disk cache</strong> tailored for handling large video files.</li></ul></li></ul><hr><p><img src=/images/site/uc.jpg alt="image info"></p><p>Each caching layer operates independently and is responsible for its designated task. If we need to introduce a new caching mechanism in the future, it can be seamlessly integrated without disrupting.</p><hr></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn icon-button bg-facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fchowdhurynawaf.github.io%2fen%2fposts%2fcache-management-strategy-in-beeda%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn icon-button bg-twitter" href="https://twitter.com/share?url=https%3a%2f%2fchowdhurynawaf.github.io%2fen%2fposts%2fcache-management-strategy-in-beeda%2f&text=Optimizing%20Cache%20Management%20Strategy%20in%20Beeda&via=Nawaf%27s%20Portfolio" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fchowdhurynawaf.github.io%2fen%2fposts%2fcache-management-strategy-in-beeda%2f&title=Optimizing%20Cache%20Management%20Strategy%20in%20Beeda" target=_blank><i class="fab fa-linkedin"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/chowdhurynawaf/nawaf.github.io/edit/main/content/posts/Cache-Management-Strategy-in-Beeda/index.en.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-12 next-article"><a href=/en/posts/how-eylog-manages-mobile-releases/ title="How eyLog Manages Mobile Releases" class="btn filled-button"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>How eyLog Manages Mobile Releases</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#problem>Problem:</a></li><li><a href=#implementation>Implementation:</a></li><li><a href=#1-utils-layer>1. <strong>Utils Layer</strong></a></li><li><a href=#2-assets-manager>2. <strong>Assets Manager</strong></a></li><li><a href=#3-caching-layer>3. <strong>Caching Layer</strong></a><ul><li><ul><li><a href=#disk-caching><strong>Disk Caching</strong></a></li><li><a href=#lru-caching><strong>LRU Caching</strong></a></li><li><a href=#in-our-case><strong>In Our Case:</strong></a></li></ul></li></ul></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://chowdhurynawaf.github.io/en/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://chowdhurynawaf.github.io/en/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://chowdhurynawaf.github.io/en/#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://chowdhurynawaf.github.io/en/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://chowdhurynawaf.github.io/en/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=https://chowdhurynawaf.github.io/en/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://chowdhurynawaf.github.io/en/#accomplishments>Accomplishments</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:chowdhurynawaf@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>chowdhurynawaf@gmail.com</span></a></li><li><a href=https://www.linkedin.com/in/nawafchowdhury target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Mahmuduzzaman Chowdhury</span></a></li><li><span><i class="fas fa-phone-alt"></i></span> <span>+880 1683438238</span></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This website uses Google Analytics with cookies for access analysis.</p></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023-2025 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.846d0e53f44ba71fd19144b2e26b4fbc943cbf7a815149daea71816b245a342a.js integrity="sha256-hG0OU/RLpx/RkUSy4mtPvJQ8v3qBUUna6nGBayRaNCo=" defer></script></body></html>